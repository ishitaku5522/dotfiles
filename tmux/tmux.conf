set -g prefix C-q
unbind-key C-b
set -s escape-time 0
bind-key C-q send-prefix

# True color term
set -g default-terminal "xterm"
set -ga terminal-overrides ",xterm:Tc"

# bind-key j command-prompt -p "join pane from:"  "join-pane -s :'%%'"
# bind-key s command-prompt -p "send pane to:"  "join-pane -t :'%%'"

# コピー関係
setw -g mode-keys vi
unbind -t emacs-copy M-w
unbind -t emacs-copy C-w
# bind-key -t emacs-copy M-w copy-pipe "xsel -bi"
# bind-key -t emacs-copy C-w copy-pipe "xsel -bi"
bind-key -t vi-copy Enter copy-pipe "cat | xsel -i --clipboard"
bind-key ] run 'tmux set-buffer -- "$(xsel -bo)"; tmux paste-buffer'
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R
bind H swap-pane -U
bind J swap-pane -D
bind K swap-pane -U
bind L swap-pane -D
bind -r + resize-pane -U 5
bind -r - resize-pane -D 5
bind -r > resize-pane -R 5
bind -r < resize-pane -L 5
bind c new-window -c "#{pane_current_path}"
bind % split-window -hc "#{pane_current_path}"
bind '"' split-window -vc "#{pane_current_path}"
# if-shell "if [[ `\tmux -V | cut -d' ' -f2` -lt 2.1 ]]; then true; else false; fi" "set -g mode-mouse on; set -g mouse-resize-pane on; set -g mouse-select-pane on; set -g mouse-select-window on" "set -g mouse on"

# ステータスラインまわり
source-file ~/dotfiles/tmux-local
set -g base-index 1
set -g renumber-windows on
set -g status-position bottom
setw -g window-status-bg default
setw -g window-status-current-bg white
setw -g window-status-current-fg black
set -g status-left-length 50
set -g status-left '#[fg=yellow,bg=black]#{?client_prefix,#[reverse],} #H[#S] #[default]'
# Screensaver
set -g lock-after-time 1800
set -g lock-command "cmatrix -s -b"

#change these color
# set-option -g status-bg red
# setw -g clock-mode-colour red
# set-option -g pane-active-border-fg red

# set-option -g status on
# set-option -g status-interval 1
# set-option -g status-utf8 on
# set-option -g status-justify "centre"
# set-option -g status-left "[S->#S] #H"
# set-option -g status-left-length 50
# set-option -g status-right "%y/%m/%d(%a) %T"
# set-option -g status-right-length 50
# 
# set-window-option -g window-status-format "[#I:#{pane_current_path}]"
# set-window-option -g window-status-current-format "[#I:#{pane_current_path}]"
# 
# set-option -g status-bg colour166
# setw -g window-status-current-fg black
# setw -g window-status-current-bg white
