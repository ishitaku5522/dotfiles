#!/usr/bin/env zsh

export EDITOR=vim
export MYDOTFILES=$HOME/dotfiles
export ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE="fg=59"
export PATH=$HOME/usr/bin:$PATH
echo -ne '\e]12;#aaaaaa\a'

setopt AUTO_CD

function chpwd() {ls}
if [[ ! -n $TMUX ]]; then
    export TERM=xterm-256color
    if [[ `tmux list-sessions|wc -l` == `tmux list-sessions | grep attached | wc -l` ]]; then
        tmux new-session
    else
        tmux attach
    fi
	# else
	# export TERM=screen-256color
fi

if [[ -x "`which trash-put`" ]]; then
	alias rm="trash-put"
else
	echo "Recommended to install 'trash-cli'"
	to_trash() {
		for file in $@
		do
			mv $file ~/.trash
		done
	}
	alias rm="to_trash"
fi

if [[ -e "$HOME/localrcs/zsh-local.zsh" ]]; then
    source "$HOME/localrcs/zsh-local.zsh"
fi


alias tgvim="gvim --remote-tab"
alias tvim="gvim --remote-tab"
alias em="emacs"

zstyle ':completion:*' completer _complete _match _approximate
zstyle ':completion:*' group-name ''
zstyle ':completion:*' list-colors ${(s.:.)LS_COLORS}
zstyle ':completion:*' matcher-list 'm:{a-zA-Z}={A-Za-z}'
zstyle ':completion:*' use-cache true
zstyle ':completion:*' verbose yes
zstyle ':completion:*:default' menu select=2
zstyle ':completion:*:descriptions' format '%F{yellow}-- %d --%f'
zstyle ':completion:*:options' description 'yes'
